#!/bin/bash

subdomain()
{
 
amass enum -d $1 --passive -o $1-amass.txt
 
subfinder -d $1 -o $1-subfinder.txt
 
python3 ~/tools/subdomain/Sublist3r/sublist3r.py -d $1 -o $1-sublist3r.txt
 
cat $1-amass.txt $1-subfinder.txt $1-sublist3r.txt > final1-$1.txt

cat final1-$1.txt | sort -u > final-$1.txt

rm final1-$1.txt
mkdir $1-subdomain
mv  $1-subfinder.txt $1-amass.txt $1-sublist3r.txt final-$1.txt  $1-subdomain
cd $1-subdomain
cat final-$1.txt | aquatone
nuclei -l $1 -t subdomain-takeover -t vulnerabilites -t panels -t default-credentials -t technologies -t security-misconfiguration -t cves -t dns -t files -t generic-detections -t tokens -t workflows -o $1-nuclei.txt


}

